(()=>{"use strict";({994:function(){var e=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,d){function c(e){try{r(n.next(e))}catch(e){d(e)}}function s(e){try{r(n.throw(e))}catch(e){d(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(c,s)}r((n=n.apply(e,t||[])).next())}))};let t="";chrome.runtime.onInstalled.addListener((()=>{chrome.contextMenus.create({title:"Define %s",contexts:["selection"],id:"define word"})})),chrome.contextMenus.onClicked.addListener(((i,n)=>e(void 0,void 0,void 0,(function*(){if(null==n?void 0:n.id){if(-1===n.id)t=i.selectionText;else{const e=yield chrome.tabs.sendMessage(n.id,{type:"getWord"});t=e.word,yield chrome.tabs.sendMessage(n.id,{type:"definition",definition:t})}chrome.storage.local.set({selectedWord:t})}})))),chrome.action.onClicked.addListener((i=>{chrome.tabs.query({active:!0,currentWindow:!0},(i=>e(void 0,void 0,void 0,(function*(){var e=i[0];try{if(e.id){const i=yield chrome.tabs.sendMessage(e.id,{type:"getWord"});t=i.word,yield chrome.tabs.sendMessage(e.id,{type:"definition",definition:void 0})}}catch(e){console.log(e)}}))))}))}})[994]()})();