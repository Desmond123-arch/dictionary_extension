(()=>{"use strict";({994:function(){var e=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,c){function s(e){try{a(i.next(e))}catch(e){c(e)}}function r(e){try{a(i.throw(e))}catch(e){c(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}a((i=i.apply(e,t||[])).next())}))};let t;chrome.runtime.onInstalled.addListener((()=>e(void 0,void 0,void 0,(function*(){for(const e of chrome.runtime.getManifest().content_scripts)for(const t of yield chrome.tabs.query({url:e.matches}))if(!t.url.match(/(chrome|chrome-extension):\/\//gi)&&t.id&&e.all_frames&&e.js){const n={target:{tabId:t.id,allFrames:e.all_frames},files:e.js,injectImmediately:"document_start"===e.run_at};chrome.scripting.executeScript(n)}chrome.contextMenus.create({id:"Define",title:"Define %s",contexts:["link","selection"]})})))),chrome.tabs.onActivated.addListener((function(e){chrome.tabs.get(e.tabId,(function(e){var t;console.log(e),(null===(t=e.url)||void 0===t?void 0:t.endsWith("pdf"))?(chrome.tabs.sendMessage(e.id,{type:"definition",definition:"Hello world"}),chrome.contextMenus.update("Define",{visible:!0})):chrome.contextMenus.update("Define",{visible:!1})}))})),chrome.action.onClicked.addListener((t=>e(void 0,void 0,void 0,(function*(){const e=yield chrome.tabs.sendMessage(t.id,{type:"getWord"});chrome.tabs.sendMessage(t.id,{type:"definition",definition:e.selectedWord})})))),chrome.runtime.onMessage.addListener(((e,n,i)=>{"selectedText"===e.action&&(t=e.text,console.log(t),chrome.storage.sync.set({mySelection:t}))}))}})[994]()})();